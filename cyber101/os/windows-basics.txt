# ğŸªŸ Windows Internals & Security Concepts

## âš ï¸ Por que o Windows Ã© tÃ£o visado?
- Ã‰ amplamente utilizado e vendido.
- Alvo frequente de **malwares** e **ataques hackers**.
- A Microsoft define quando versÃµes deixarÃ£o de ser suportadas.
- Empresas dependem do Windows e sÃ£o forÃ§adas a atualizar, muitas vezes **sem preparo de hardware e rede**.
- **Windows Server** Ã© o sistema operacional voltado para servidores.

---

## ğŸ“ File Systems

### ğŸ”¸ NTFS (New Technology File System)
- Substituiu FAT16 e FAT32.
- Suporta:
  - Arquivos maiores que 4GB.
  - PermissÃµes especÃ­ficas para arquivos e pastas.
  - CompressÃ£o de arquivos e pastas.
  - Criptografia com **EFS (Encrypting File System)**.
- RecuperaÃ§Ã£o automÃ¡tica em caso de falha, usando arquivos de log.

### ğŸ”¸ FAT32
- Antigo sistema de arquivos.
- Ainda usado em pendrives e sistemas legados.
- **Linux** tambÃ©m usa FAT32 para compatibilidade.
- **NÃ£o** possui journaling nem suporte a permissÃµes ou criptografia.

---

## ğŸ§¨ ADS â€“ Alternate Data Streams
- Permite armazenar **metadados invisÃ­veis** em arquivos NTFS.
- Pode ser usado para esconder **malwares**.
- Cada arquivo possui pelo menos um data stream chamado `$DATA`.
- Exemplo: usando PowerShell Ã© possÃ­vel ler ADS.

> **Obs:** ao mover arquivos com ADS de NTFS para FAT, o stream Ã© perdido, pois FAT nÃ£o suporta ADS.

---

## ğŸ§¬ System32 e VariÃ¡veis

- A pasta `Windows` contÃ©m o SO.
- `%windir%` Ã© uma variÃ¡vel de ambiente que aponta para a pasta do sistema.
  - Evita caminhos fixos.
  - Usado para armazenar valores globais como pastas temporÃ¡rias, paths, etc.

---

## ğŸ‘¤ Conta e Perfil de UsuÃ¡rio

- Existem perfis:
  - **Administrador:** controle total.
  - **UsuÃ¡rio comum:** permissÃµes limitadas.
- Os perfis sÃ£o armazenados em `C:\Users\`.
- Ao criar uma nova conta, o sistema gera o perfil na primeira vez que o usuÃ¡rio faz login.
- `lusrmgr.msc` acessa o gerenciador de contas locais.

---

## ğŸ›¡ï¸ UAC â€“ User Account Control

- **Separa privilÃ©gios administrativos.**
- Mesmo logado como administrador, o UAC requer confirmaÃ§Ã£o ("sim/nÃ£o").
- Se o usuÃ¡rio nÃ£o for administrador, o UAC pede as **credenciais do administrador**.
- Ajuda a bloquear aÃ§Ãµes maliciosas feitas por programas automaticamente.
- Pode ser configurado nas ferramentas do sistema.

---

## âš™ï¸ ConfiguraÃ§Ãµes e Painel de Controle

- `ConfiguraÃ§Ãµes` (Ã­cone de engrenagem): interface moderna e simplificada.
- `Painel de Controle` (`control` no `Win + R`): opÃ§Ãµes mais avanÃ§adas e detalhadas.
  - `Small icons` revela categorias especÃ­ficas.

---

## ğŸ§  Task Manager (`taskmgr`)
- Mostra aplicaÃ§Ãµes e processos em execuÃ§Ã£o.
- `More details` revela uso de recursos: CPU, RAM, disco, rede.

---

## ğŸª› System Configuration (`msconfig`)
- `General`: seleciona o que serÃ¡ carregado no boot.
- `Boot`, `Services`, `Startup`, `Tools`: controle e diagnÃ³stico do sistema.

---

## ğŸ–¥ï¸ Gerenciador do Computador (`compmgmt.msc`)

- Acesso a:
  - **System Tools**: visualizador de eventos, tarefas agendadas.
  - **Storage**: discos e volumes.
  - **Services and Applications**: serviÃ§os do sistema.

### ğŸ” Visualizador de Eventos
- Tipos de logs:
  - **Erro**: algo falhou.
  - **Aviso**: evento que exige atenÃ§Ã£o (ex: espaÃ§o em disco).
  - **InformaÃ§Ã£o**: registro de eventos bem-sucedidos.
  - **Success Audit / Failure Audit**: logs relacionados a permissÃµes e seguranÃ§a.

---

## ğŸ“Š Performance Monitor (`perfmon`)
- Analisa mÃ©tricas de desempenho em tempo real.

---

## ğŸ§° Device Manager
- Gerencia e configura o hardware do sistema.

---

## ğŸ› ï¸ Services
- SÃ£o aplicaÃ§Ãµes que rodam em segundo plano.

---

## ğŸ“‹ System Information (`msinfo32`)
- Mostra:
  - InformaÃ§Ãµes de hardware, software e ambiente.
  - Problemas conhecidos, drivers, processos, serviÃ§os.

---

## ğŸ“¡ Resource Monitor (`resmon`)
- AnÃ¡lise avanÃ§ada de:
  - **CPU**, **Disco**, **MemÃ³ria** e **Rede**.
- Pode aplicar filtros e investigar conflitos.
- Excelente para troubleshooting.

---

## ğŸ’» Comandos Ãšteis no CMD

| Comando       | FunÃ§Ã£o                                 |
|---------------|-----------------------------------------|
| `hostname`    | Mostra o nome do computador             |
| `whoami`      | Mostra o nome do usuÃ¡rio atual          |
| `cls`         | Limpa o terminal                        |
| `netstat`     | Exibe conexÃµes de rede e portas         |
| `comando /?`  | Mostra ajuda para qualquer comando      |
| `help <cmd>`  | Alternativa para visualizar ajuda       |

---

## ğŸ§  Registry Editor (`regedit`)
- Banco de dados com configuraÃ§Ãµes do sistema.
- Armazena dados para:
  - UsuÃ¡rios, aplicaÃ§Ãµes, drivers, serviÃ§os, hardware, propriedades.
- Ãreas principais:
  - `HKEY_LOCAL_MACHINE` â€“ configuraÃ§Ãµes do sistema.
  - `HKEY_CURRENT_USER` â€“ configuraÃ§Ãµes do usuÃ¡rio logado.

---