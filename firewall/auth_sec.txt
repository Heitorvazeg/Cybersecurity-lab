# üîê Autentica√ß√£o e Seguran√ßa no FortiGate

Este guia cobre as principais funcionalidades de seguran√ßa e autentica√ß√£o no firewall **FortiGate**, incluindo integra√ß√£o com Active Directory, controle de aplica√ß√µes, web filtering e configura√ß√£o de t√∫neis VPN seguros.

---

## üßæ Autentica√ß√£o

- A autentica√ß√£o pode ser exigida para acessar a internet.
- Usu√°rios podem ser:
  - **Locais**, criados diretamente no FortiGate.
  - **Externos**, como os do **Active Directory (AD)** via LDAP.

### üéõÔ∏è Modos de Autentica√ß√£o

| Modo     | Descri√ß√£o                                                     |
|----------|----------------------------------------------------------------|
| **Ativa**   | O usu√°rio precisa **fazer login manualmente** para obter acesso. |
| **Passiva** | Autentica√ß√£o autom√°tica (ex: via autentica√ß√£o transparente).     |

- Suporta **autentica√ß√£o de dois fatores (2FA)**.
- Pode-se utilizar **grupos de usu√°rios** para aplicar regras espec√≠ficas.

---

## üë§ Criar Usu√°rio Local

> Menu: `User & Authentication > User Definition > Create New`

- Define login e senha para uso direto no FortiGate.
- Pode associar o usu√°rio a **grupos locais** (menu: `User Groups`).
- **Usu√°rios locais s√£o independentes de AD.**

---

## üñß Integra√ß√£o com Active Directory (LDAP)

> Menu: `User & Authentication > LDAP > Create New`

- Insira o IP do controlador de dom√≠nio (AD).
- **Common Name Identifier**: `samAccountName`
- Permite:
  - Autenticar com as credenciais do dom√≠nio.
  - Criar **grupos baseados no AD** para pol√≠ticas de acesso.
  - Usar os grupos como **source nas pol√≠ticas de firewall**.

---

## üåê Web Filtering (Filtro de Web)

- Utiliza o servi√ßo **FortiGuard** (licen√ßa requerida).
- Bloqueia URLs por **categorias** (ex: redes sociais, jogos, pornografia).

### üìå Configura√ß√£o

> Menu: `Security Profiles > Web Filter > Create New`

- Crie perfil de filtragem com regras personalizadas.
- **Associe esse perfil a uma pol√≠tica de firewall** para que seja efetivo.

---

## üì± Controle de Aplica√ß√µes (App Control)

- Controla **aplica√ß√µes executadas nas m√°quinas**, n√£o apenas URLs.
- Utiliza **assinaturas de aplica√ß√µes** e **categorias padr√£o** (exige licen√ßa).

### üß© Aplica√ß√µes Suportadas

- VPNs n√£o autorizadas
- Jogos online
- Mensageiros instant√¢neos

> Deve ser **vinculado a uma pol√≠tica de firewall** para funcionar.

---

## üåê DNS Filtering

- Semelhante ao URL filtering, mas age **antes**, na resolu√ß√£o DNS.
- Bloqueia **dom√≠nios inteiros** antes mesmo da tentativa de conex√£o HTTP/S.

> Configura√ß√£o parecida com Web Filtering, tamb√©m via `Security Profiles`.

---

## üõ°Ô∏è Anti-v√≠rus

- Protege contra malwares e arquivos maliciosos na rede.
- Inspeciona protocolos como:
  - HTTP
  - FTP
  - SMTP

> Configura√ß√£o via: `Security Profiles > AntiVirus > Create New`

- Define perfis de an√°lise profunda com a√ß√µes (block, quarantine, monitor).

---

## üîë VPN - Virtual Private Network

Permite conex√µes **seguras** √† rede interna pela internet.

### Tipos de VPN:

| Tipo              | Uso                                                                 |
|-------------------|----------------------------------------------------------------------|
| **Site to Site**  | Conecta **duas redes f√≠sicas diferentes**.                          |
| **Remote Access** | Permite que **usu√°rios individuais** acessem a rede remotamente.     |

### üßë‚Äçüíª Requisitos

- Criar **grupo VPN** para usu√°rios autorizados (geralmente equipe de TI).
- Definir o **endere√ßo IP remoto p√∫blico**.
- Atribuir **endere√ßos IP privados via pool** para os clientes VPN.

---

## ‚öôÔ∏è Configurando um IPsec Tunnel

> Menu: `VPN > IPsec Wizard > Create New`

### Etapas de configura√ß√£o:

1. **Selecione o modo**:
   - *Custom* (manual)
   - *Remote Access* (cliente individual)

2. **Defina a Interface WAN**:
   - Interface que conecta √† internet.

3. **Remote Gateway**:
   - IP do FortiGate remoto (ou cliente remoto).

4. **Pool de IP**:
   - Faixa de IPs privados para os usu√°rios conectados via VPN.

5. **Pol√≠tica de firewall**:
   - Crie regra `VPN ‚Üí WAN` ou `VPN ‚Üí LAN` **sem NAT**, permitindo o tr√°fego do t√∫nel.

---

## üìò Boas Pr√°ticas

- Use **grupos** (locais ou AD) para aplicar regras espec√≠ficas por perfil de usu√°rio.
- Aplique **Web Filtering e DNS Filtering** combinados para melhor cobertura.
- Sempre monitore logs de autentica√ß√£o para identificar tentativas suspeitas.
- Mantenha o firmware atualizado e fa√ßa backups regulares das configura√ß√µes.

---